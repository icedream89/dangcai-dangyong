{"version":3,"file":"index.js","sources":["pages/profile/index.vue","../../../../Downloads/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9pbmRleC52dWU"],"sourcesContent":["<template>\n  <view class=\"profile-page\">\n    <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->\n    <view class=\"user-card card\">\n      <view class=\"user-avatar\">\n        <text class=\"avatar-icon\">ğŸ‘¤</text>\n      </view>\n      <view class=\"user-info\">\n        <text class=\"user-name\">{{ userInfo ? userInfo.name : 'æœªç™»å½•' }}</text>\n        <text class=\"user-type\">{{ userInfo ? formatRole(userInfo.role) : 'æ™®é€šç”¨æˆ·' }}</text>\n      </view>\n      <button class=\"login-btn\" v-if=\"!userInfo\" @click=\"handleLogin\">ç«‹å³ç™»å½•</button>\n    </view>\n\n    <!-- ä¼ä¸šä¸“å±åŠŸèƒ½ -->\n    <view class=\"menu-container card\" v-if=\"isEnterpriseUser()\">\n      <view class=\"menu-header\">\n        <text class=\"menu-header-title\">ğŸ¢ ä¼ä¸šç®¡ç†</text>\n      </view>\n      <view class=\"menu-item\" @click=\"handleManageProducts\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">ğŸ“¦</text>\n          <text class=\"menu-title\">äº§å“ç®¡ç†</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n      <view class=\"menu-item\" @click=\"handleEditContact\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">ğŸ“</text>\n          <text class=\"menu-title\">è”ç³»æ–¹å¼</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n      <view class=\"menu-item\" @click=\"handleEditEnterprise\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">ğŸ¢</text>\n          <text class=\"menu-title\">ä¼ä¸šä¿¡æ¯</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n    </view>\n\n    <!-- åŠŸèƒ½èœå• -->\n    <view class=\"menu-container card\">\n      <view class=\"menu-header\">\n        <text class=\"menu-header-title\">ğŸ“‹ ä¸ªäººä¸­å¿ƒ</text>\n      </view>\n      <view class=\"menu-item\" @click=\"navigateTo('/pages/purchase/my-list')\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">ğŸ›’</text>\n          <text class=\"menu-title\">æˆ‘çš„éœ€æ±‚</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n      <view class=\"menu-item\" @click=\"navigateTo('/pages/help/my-list')\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">ğŸ’¬</text>\n          <text class=\"menu-title\">æˆ‘çš„æ±‚åŠ©</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n      <view class=\"menu-item\" @click=\"handleCollect\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">â­</text>\n          <text class=\"menu-title\">æˆ‘çš„æ”¶è—</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n      <view class=\"menu-item\" @click=\"handleAbout\">\n        <view class=\"menu-left\">\n          <text class=\"menu-icon\">â„¹ï¸</text>\n          <text class=\"menu-title\">å…³äºæˆ‘ä»¬</text>\n        </view>\n        <text class=\"menu-arrow\">â€º</text>\n      </view>\n    </view>\n\n    <!-- é€€å‡ºç™»å½• -->\n    <button class=\"logout-btn\" v-if=\"userInfo\" @click=\"handleLogout\">é€€å‡ºç™»å½•</button>\n  </view>\n</template>\n\n<script>\nimport { userStore } from '@/store/user.js'\n\nexport default {\n  data() {\n    return {\n      userInfo: null,\n      isLoggedIn: false\n    }\n  },\n  onLoad() {\n    // åˆå§‹åŒ–ç”¨æˆ·çŠ¶æ€\n    userStore.init()\n    this.userInfo = userStore.state.userInfo\n    this.isLoggedIn = userStore.state.isLoggedIn\n  },\n  onShow() {\n    // æ¯æ¬¡æ˜¾ç¤ºé¡µé¢æ—¶åˆ·æ–°ç”¨æˆ·çŠ¶æ€\n    this.userInfo = userStore.state.userInfo\n    this.isLoggedIn = userStore.state.isLoggedIn\n  },\n  methods: {\n    navigateTo(url) {\n      uni.navigateTo({ url })\n    },\n\n    handleLogin() {\n      uni.navigateTo({\n        url: '/pages/login/index'\n      })\n    },\n\n    handleCollect() {\n      uni.showToast({\n        title: 'æ”¶è—åŠŸèƒ½å¼€å‘ä¸­',\n        icon: 'none'\n      })\n    },\n\n    handleAbout() {\n      uni.showModal({\n        title: 'å…³äºæˆ‘ä»¬',\n        content: 'å½“æ‰å½“ç”¨\\nå½“é˜³å¸‚ç§‘æŠ€ç»æµä¿¡æ¯å•†åŠ¡å±€ä¼ä¸šæœåŠ¡å¹³å°\\n\\nVersion 1.0.0',\n        showCancel: false\n      })\n    },\n\n    handleLogout() {\n      uni.showModal({\n        title: 'æç¤º',\n        content: 'ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ',\n        success: (res) => {\n          if (res.confirm) {\n            userStore.logout()\n            this.userInfo = null\n            this.isLoggedIn = false\n            uni.showToast({\n              title: 'å·²é€€å‡ºç™»å½•',\n              icon: 'success'\n            })\n          }\n        }\n      })\n    },\n\n    // æ ¼å¼åŒ–è§’è‰²åç§°\n    formatRole(role) {\n      const roleMap = {\n        'enterprise': 'ä¼ä¸šç®¡ç†å‘˜',\n        'employee': 'ä¼ä¸šå‘˜å·¥',\n        'normal': 'æ™®é€šç”¨æˆ·'\n      }\n      return roleMap[role] || 'æœªçŸ¥è§’è‰²'\n    },\n\n    // åˆ¤æ–­æ˜¯å¦ä¸ºä¼ä¸šç”¨æˆ·ï¼ˆç®¡ç†å‘˜æˆ–å‘˜å·¥ï¼‰\n    isEnterpriseUser() {\n      return this.userInfo && (this.userInfo.role === 'enterprise' || this.userInfo.role === 'employee')\n    },\n\n    // åˆ¤æ–­æ˜¯å¦ä¸ºæ™®é€šç”¨æˆ·\n    isNormalUser() {\n      return this.userInfo && this.userInfo.role === 'normal'\n    },\n\n    // ä¼ä¸šç®¡ç†åŠŸèƒ½\n    handleManageProducts() {\n      uni.navigateTo({\n        url: '/pages/enterprise/products'\n      })\n    },\n\n    handleEditContact() {\n      uni.navigateTo({\n        url: '/pages/enterprise/contact-edit'\n      })\n    },\n\n    handleEditEnterprise() {\n      uni.showToast({\n        title: 'ä¼ä¸šä¿¡æ¯ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­',\n        icon: 'none'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.profile-page {\n  min-height: 100vh;\n  background: #f5f5f5;\n  padding: 20rpx;\n}\n\n.user-card {\n  display: flex;\n  align-items: center;\n  gap: 24rpx;\n  padding: 32rpx 24rpx;\n  margin-bottom: 20rpx;\n\n  .user-avatar {\n    width: 120rpx;\n    height: 120rpx;\n    border-radius: 60rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .avatar-icon {\n      font-size: 60rpx;\n      color: #fff;\n    }\n  }\n\n  .user-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 8rpx;\n\n    .user-name {\n      font-size: 36rpx;\n      font-weight: bold;\n      color: #333;\n    }\n\n    .user-type {\n      font-size: 26rpx;\n      color: #999;\n    }\n  }\n\n  .login-btn {\n    padding: 12rpx 32rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border: none;\n    border-radius: 50rpx;\n    font-size: 26rpx;\n  }\n}\n\n.menu-container {\n  .menu-header {\n    padding: 24rpx 0;\n    border-bottom: 1rpx solid #f0f0f0;\n\n    .menu-header-title {\n      font-size: 28rpx;\n      font-weight: bold;\n      color: #667eea;\n    }\n  }\n\n  .menu-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 24rpx 0;\n    border-bottom: 1rpx solid #f0f0f0;\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    .menu-left {\n      display: flex;\n      align-items: center;\n      gap: 20rpx;\n\n      .menu-icon {\n        font-size: 40rpx;\n      }\n\n      .menu-title {\n        font-size: 30rpx;\n        color: #333;\n      }\n    }\n\n    .menu-arrow {\n      font-size: 40rpx;\n      color: #999;\n    }\n  }\n}\n\n.logout-btn {\n  width: 100%;\n  height: 88rpx;\n  background: #fff;\n  color: #f5576c;\n  border: none;\n  border-radius: 50rpx;\n  font-size: 32rpx;\n  margin-top: 40rpx;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/icedr/Desktop/test/dang-cai-dang-yong/miniprogram/pages/profile/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["userStore","uni"],"mappings":";;;AAqFA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,MACV,YAAY;AAAA,IACd;AAAA,EACD;AAAA,EACD,SAAS;AAEPA,eAAAA,UAAU,KAAK;AACf,SAAK,WAAWA,qBAAU,MAAM;AAChC,SAAK,aAAaA,qBAAU,MAAM;AAAA,EACnC;AAAA,EACD,SAAS;AAEP,SAAK,WAAWA,qBAAU,MAAM;AAChC,SAAK,aAAaA,qBAAU,MAAM;AAAA,EACnC;AAAA,EACD,SAAS;AAAA,IACP,WAAW,KAAK;AACdC,0BAAI,WAAW,EAAE,KAAK;AAAA,IACvB;AAAA,IAED,cAAc;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,gBAAgB;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACF;AAAA,IAED,cAAc;AACZA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,YAAY;AAAA,OACb;AAAA,IACF;AAAA,IAED,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACfD,uBAAAA,UAAU,OAAO;AACjB,iBAAK,WAAW;AAChB,iBAAK,aAAa;AAClBC,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,aACP;AAAA,UACH;AAAA,QACF;AAAA,OACD;AAAA,IACF;AAAA;AAAA,IAGD,WAAW,MAAM;AACf,YAAM,UAAU;AAAA,QACd,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,UAAU;AAAA,MACZ;AACA,aAAO,QAAQ,IAAI,KAAK;AAAA,IACzB;AAAA;AAAA,IAGD,mBAAmB;AACjB,aAAO,KAAK,aAAa,KAAK,SAAS,SAAS,gBAAgB,KAAK,SAAS,SAAS;AAAA,IACxF;AAAA;AAAA,IAGD,eAAe;AACb,aAAO,KAAK,YAAY,KAAK,SAAS,SAAS;AAAA,IAChD;AAAA;AAAA,IAGD,uBAAuB;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,oBAAoB;AAClBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,OACN;AAAA,IACF;AAAA,IAED,uBAAuB;AACrBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;AC1LA,GAAG,WAAW,eAAe;"}