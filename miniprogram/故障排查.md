# 小程序Demo - 故障排查指南

## 🛠️ 常见错误及解决方案

### 错误1：找不到模块或依赖

**错误信息：**
```
Cannot find module 'xxx'
Error: Cannot find package 'xxx'
```

**解决方案：**
```bash
# 1. 进入小程序目录
cd miniprogram

# 2. 删除旧的依赖（如果有）
rm -rf node_modules package-lock.json

# 3. 重新安装依赖
npm install

# 如果npm install很慢，使用国内镜像
npm config set registry https://registry.npmmirror.com
npm install
```

### 错误2：HBuilderX无法运行

**错误信息：**
```
运行时出错
编译失败
```

**解决方案：**

1. **检查HBuilderX版本**
   - 确保使用最新版HBuilderX
   - 下载地址：https://www.dcloud.io/hbuilderx.html
   - 选择"App开发版"

2. **清理项目缓存**
   - 在HBuilderX中：运行 → 清除缓存
   - 或手动删除 `unpackage` 目录

3. **重新编译**
   - 运行 → 运行到小程序模拟器 → 微信开发者工具

### 错误3：微信开发者工具报错

**错误信息：**
```
页面不存在
路由错误
```

**解决方案：**

1. **检查项目配置**
   - 确保 `pages.json` 配置正确
   - 所有页面路径都已定义

2. **重新导入项目**
   - 关闭当前项目
   - 重新导入项目目录
   - 选择 `dist/dev/mp-weixin` 目录（如果是命令行运行）

### 错误4：TabBar图标不显示

**解决方案：**

这个Demo版本暂时不使用图标，只显示文字。如果需要图标，可以：

1. 准备图标文件（81x81px）
2. 放入 `static/tabbar/` 目录
3. 修改 `pages.json` 中的 tabBar 配置

### 错误5：页面白屏或空白

**错误信息：**
```
页面显示空白
控制台报错
```

**解决方案：**

1. **检查控制台错误**
   - 微信开发者工具 → 调试器 → Console
   - 查看具体错误信息

2. **检查Mock数据**
   - 确保 `api/index.js` 文件存在
   - 数据格式正确

3. **清除缓存**
   - 微信开发者工具 → 清除缓存
   - 或者清除全部数据

## 🔧 快速修复步骤

### 方案A：完全重置（推荐）

```bash
# 1. 进入项目目录
cd miniprogram

# 2. 删除依赖和编译文件
rm -rf node_modules package-lock.json unpackage dist

# 3. 重新安装
npm install

# 4. 使用HBuilderX重新运行
```

### 方案B：使用命令行运行

```bash
cd miniprogram
npm install
npm run dev:mp-weixin

# 然后使用微信开发者工具导入项目
# 导入目录：miniprogram/dist/dev/mp-weixin
```

### 方案C：简化版本（最简单）

如果仍然报错，可以创建一个最简化的测试版本：

1. **创建测试页面**

在 `pages/index/index.vue` 中添加：
```vue
<template>
  <view class="content">
    <text class="title">当才当用</text>
    <text class="desc">小程序正常运行中...</text>
  </view>
</template>

<script>
export default {
  data() {
    return {}
  }
}
</script>

<style scoped>
.content {
  padding: 40rpx;
  text-align: center;
}

.title {
  font-size: 48rpx;
  font-weight: bold;
  color: #667eea;
  display: block;
  margin-bottom: 20rpx;
}

.desc {
  font-size: 28rpx;
  color: #666;
}
</style>
```

## 📱 微信开发者工具设置

### 正确的导入步骤：

1. **打开微信开发者工具**

2. **导入项目**
   - 点击 "+" 或 "导入项目"
   - 项目目录选择：
     - 如果用HBuilderX运行：自动打开
     - 如果用命令行：选择 `dist/dev/mp-weixin`

3. **项目配置**
   - AppID：选择"测试号"（最简单）
   - 项目名称：当才当用
   - 开发模式：小程序

4. **确认进入**
   - 点击"导入"
   - 等待编译完成

## 🎯 验证是否正常运行

### 检查清单：

- [ ] 微信开发者工具成功打开
- [ ] 能够看到小程序界面
- [ ] 底部有4个Tab（首页、企业、求助、我的）
- [ ] 点击Tab可以切换页面
- [ ] 首页显示内容（Banner、入口卡片等）
- [ ] 控制台没有红色错误

## 💡 仍然无法解决？

### 提供以下信息：

1. **完整的错误截图**
   - HBuilderX控制台
   - 微信开发者工具控制台
   - 运行面板的错误信息

2. **操作步骤**
   - 您具体做了什么操作
   - 在哪一步出现的问题

3. **环境信息**
   - HBuilderX版本
   - Node.js版本（`node -v`）
   - 微信开发者工具版本
   - 操作系统版本

## 📞 获取更多帮助

如果以上方法都无法解决，请：

1. **截图错误信息**
2. **描述具体问题**
3. **告诉我您的操作步骤**

我会为您提供针对性的解决方案！

---

## ⚡ 最简单的测试方法

如果只想快速看到效果，推荐使用**在线预览**：

1. 访问 uni-app 官网
2. 使用官方示例项目测试
3. 确认环境配置正确后再运行我们的项目
